import StorybookEmbed from '../../src/components/StorybookEmbed/StorybookEmbed';
import Description from '../../src/components/Description/Description';

# Collapse Button

<Description
  extendsTexts={['Button', 'Collapse']}
  extendsLinks={[
    'https://v6.mantine.dev/core/button/',
    'https://v6.mantine.dev/core/collapse/',
  ]}
  importExample="import { CollapseButton } from '@smile/react-front-kit';"
  packageLink="https://www.npmjs.com/package/@smile/react-front-kit"
  packageText="@smile/react-front-kit"
  sourceLink="https://github.com/Smile-SA/react-front-kit/blob/main/packages/react-front-kit/src/Components/CollapseButton/CollapseButton.tsx"
>
  Render button or link with dropdown icon and collapsible content underneath
</Description>

## Usage

A collapsible button with content, combining Mantine's [Button](https://v6.mantine.dev/core/button/) and [Collapse](https://v6.mantine.dev/core/collapse/). The button can be selected, with a dropdown icon on the right that opens the collapsed content underneath.

### Uncontrolled

<StorybookEmbed
  storyId="3-custom-components-collapsebutton--collapse-button"
  height="210"
/>
```tsx import {CollapseButton} from '@smile/react-front-kit';

<CollapseButton
  defaultOpened=true
  isOpenOnSelect=false
  label="Home"
  leftIcon=<HouseLine/>
>
  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed
  varius bibendum dui non imperdiet. Donec vehicula fringilla lorem
  vitae rutrum. Etiam malesuada ullamcorper aliquam. Vestibulum ante
  ipsum primis in faucibus orci luctus et ultrices posuere cubilia
  curae; Cras elit lacus, viverra vitae risus et, pharetra tincidunt
  felis. Aliquam erat volutpat. In vitae nibh eu turpis commodo
  luctus vitae id libero. Curabitur eget nunc volutpat, luctus quam
  rutrum, ultricies tellus. Integer diam nulla, vestibulum id enim
  quis, molestie luctus magna. Phasellus et rhoncus augue, id
  maximus mi. Vivamus consequat quam tristique ex laoreet, ut
  eleifend eros sodales. Cras bibendum enim dolor, id rutrum urna
  vestibulum non.
</CollapseButton/>
```

### Controlled

<StorybookEmbed
  storyId="3-custom-components-collapsebutton--controlled"
  height="210"
/>
```tsx import {CollapseButtonControlled} from '@smile/react-front-kit';

const [opened, setOpened] = useState(true);

<CollapseButtonControlled
  isOpenOnSelect=false
  label="Home"
  leftIcon=<HouseLine/>
  onCollapseChange={() => setOpened(!opened)}
  opened={opened}
>
  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed
  varius bibendum dui non imperdiet. Donec vehicula fringilla lorem
  vitae rutrum. Etiam malesuada ullamcorper aliquam. Vestibulum ante
  ipsum primis in faucibus orci luctus et ultrices posuere cubilia
  curae; Cras elit lacus, viverra vitae risus et, pharetra tincidunt
  felis. Aliquam erat volutpat. In vitae nibh eu turpis commodo
  luctus vitae id libero. Curabitur eget nunc volutpat, luctus quam
  rutrum, ultricies tellus. Integer diam nulla, vestibulum id enim
  quis, molestie luctus magna. Phasellus et rhoncus augue, id
  maximus mi. Vivamus consequat quam tristique ex laoreet, ut
  eleifend eros sodales. Cras bibendum enim dolor, id rutrum urna
  vestibulum non.
</CollapseButtonControlled/>
```

## Storybook Docs

<StorybookEmbed
  storyId="3-custom-components-collapsebutton--docs"
  height="1200"
/>

## Props

### Uncontrolled

| Name           | Type                              | Default  | Description                                                                                                                                                 |
| -------------- | --------------------------------- | -------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------- |
| children       | `ReactNode`                       | -        | Content either collapsed or opened under Button                                                                                                             |
| component      | `ElementType`                     | `button` | Custom component to use around the label                                                                                                                    |
| componentProps | `Omit`                            | -        | Additional props for the custom component                                                                                                                   |
| defaultOpened  | `boolean`                         | `false`  | Initial value of the `Collapse`, controls if initially opened or closed                                                                                     |
| id             | `number \| string`                | -        | Optional ID given when `onSelect` is called                                                                                                                 |
| isOpenOnSelect | `boolean`                         | `true`   | When `true`, clicking/selecting anywhere on the button will also open the`Collapse`. When `false`, only clicking the collapse icon will open the `Collapse` |
| label          | `ReactNode`                       | -        | `Button` label                                                                                                                                              |
| level          | `number`                          | `0`      | Used in nested menus such as [SidebarMenu](./collapse-button), levels `0`, `1` and `2` have slightly different styles                                       |
| line           | `boolean`                         | `false`  | Used in nested menus such as [SidebarMenu](./collapse-button), when `true` will display a vertical line to the left of the button                           |
| onSelect       | `(id?: number \| string) => void` | -        | Called when button is selected (does not include the collapse icon)                                                                                         |
| selected       | `boolean`                         | -        | Controlled value determining if the button is selected, affects the button style                                                                            |
| ...            | -                                 | -        | extends [Button props](https://v6.mantine.dev/core/button/?t=props)                                                                                         |

### Controlled

Only using `<CollapseButtonControlled>`, extends the uncontrolled `<CollapseButton>` props.

| Name             | Type                     | Default | Description                                                                                                 |
| ---------------- | ------------------------ | ------- | ----------------------------------------------------------------------------------------------------------- |
| collapseProps    | `Partial<CollapseProps>` | -       | Passed to the `Collapse`, extends Mantine's [Collapse Props](https://v6.mantine.dev/core/collapse/?t=props) |
| onCollapseChange | `ElementType`            | -       | Called when the dropdown icon is clicked                                                                    |
| opened <b>\*</b> | `boolean`                | `false` | Controlled value of `Collapse`, controls of `Collapse` is opened or closed                                  |
| ...              | -                        | -       | extends uncontrolled `CollapseButton` props                                                                 |

(<b>`*`</b> required prop)
